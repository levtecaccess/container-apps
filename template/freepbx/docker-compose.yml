version: '3.3'

services:

  freepbx-server:
    image: flaviostutz/freepbx:14.1.1
    restart: always
    ports:
      - 8070:80
      - 8071:443
      - 5060:5060/udp
      - 5061:5061/udp
      - 5160:5160/udp
      - 5161:5161/udp
      - 10000-10999:10000-10999/udp
      - 11000-11999:11000-11999/udp
      - 12000-12999:12000-12999/udp
      - 13000-13999:13000-13999/udp
      - 14000-14999:14000-14999/udp
      - 15000-15999:15000-15999/udp
      - 16000-16999:16000-16999/udp
      - 17000-17999:17000-17999/udp
      - 18000-18999:18000-18999/udp
      - 19000-19999:19000-19999/udp
      - 20000:20000/udp
      - 4569:4569/udp
    volumes:
      - freepbx-backup:/backup
      - freepbx-logs:/var/log/asterisk
      - freepbx-recordings:/var/spool/asterisk/monitor
      - freepbx-www:/var/www/html
      - apache2-config:/etc/apache2

volumes:
  freepbx-backup:
  freepbx-logs:
  freepbx-recordings:
  freepbx-www:
  apache2-config:
