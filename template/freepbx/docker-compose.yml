version: '3.3'

services:

  freepbx-server:
    image: flaviostutz/freepbx:14.1.1
    restart: always
    ports:
      - 8070:80
      - 8071:443
      - 5060:5060/udp
      - 5061:5061/udp
      - 5160:5160/udp
      - 5161:5161/udp
      - 10000-11000:10000-11000/udp
      - 11000-12000:11000-12000/udp
      - 12000-13000:12000-13000/udp
      - 13000-14000:13000-14000/udp
      - 14000-15000:14000-15000/udp
      - 15000-16000:15000-16000/udp
      - 16000-17000:16000-17000/udp
      - 17000-18000:17000-18000/udp
      - 18000-19000:18000-19000/udp
      - 19000-20000:19000-20000/udp
      - 4569:4569/udp
    volumes:
      - freepbx-backup:/backup
      - freepbx-logs:/var/log/asterisk
      - freepbx-recordings:/var/spool/asterisk/monitor
      - freepbx-www:/var/www/html
      - apache2-config:/etc/apache2

volumes:
  freepbx-backup:
  freepbx-logs:
  freepbx-recordings:
  freepbx-www:
  apache2-config:
